---
layout: post
author: "Yan"
catalog: true
subtitle: "SQLD"
header-img: "img/header/sql.jpg"
title: "DB - SQLD 정리"
date: 2021-08-27 11:40:08 +0000
categories:
  - SQL
tags:
  - SQL
  - DB
  - SQLD
comments: true
---

# SQLD 시험범위 정리

## JOIN

### 집합 연산자
두 개 이상의 테이블에서 조인을 사용하지 않고 연관된 데이터를 조회할 때 사용  
1. SELECT절의 칼럼 수가 동일하고
2. SELECT절의 동일 위치에 존재하는 칼럼의 데이터 타입이 상호 호환할 때 사용

### 일반 집합 연산자
1. UNION : 합집합 (중복 행은 1개로 처리)
2. UNION ALL : 합집합 (중복 행도 표시)
3. INTERSECT(INTERSECTION) : 교집합
4. EXCEPT, MINUS(DIFFERENCE) : 차집합
5. CROSS JOIN(PRODUCE) : 곱집합

### 순수 관계 연산자
관계형 DB를 새롭게 구현
1. SELECT -> WHERE
2. PROJECT -> SELECT
3. NATURAL JOIN -> 다양한 JOIN
4. DIVIDE

### FROM절 JOIN형태
1. INNER JOIN
2. NATURAL JOIN
3. USING 조건절
4. ON 조건절
5. CROSS JOIN
6. OUTER JOIN

#### INNER JOIN
- JOIN 조건에서 동일한 값이 있는 행만 변환
- UNING 또는 ON절을 필수적으로 사용

#### NATURAL JOIN
- 두 테이블 간 동일한 이름을 갖는 모든 칼럼들에 대해 EQUI JOIN수행
- NATURAL JOIN이 명시되면 추가로 USING, ON, WHERE절에서 JOIN 조건을 정의할 수 없음
- SQL SERVER에서는 지원하지 않음

#### USING 조건절
- 같은 이름을 가진 칼럼들 중에서 원하는 칼럼에 대해서만 선택적으로 EQUI JOIN 가능
- JOIN 칼럼에 대해서 ALIAS나 테이블 이름과 같은 접두사를 붙일 수 없음
- SQL SERVER에서는 지원하지 않음

#### ON 조건절
- 칼럼 명이 다르더라도 JOIN조건을 사용할 수 있음
- ALIAS나 테이블명을 반드시 사용

## 윈도우 함수

- `ROWS` : 차이점
- `RANGE` : 같은 값
- `RANK` : 중복 건너뛰기. 특정 항목에 대한 순위를 구하는데, 동일한 값에 대해서는 동일한 순위 부여
- `DEXSE RANK` : 중복을 건너뛰지 않음. 동일한 순위를 하나의 등수로 간주함
- `PARTITION BY`
- `ORDER BY`

## 계층형 질의

- 테이블에 계층형 데이터가 존재하는 경우 데이터가 존재하는 경우 데이터를 조회하기 위한 과정
- **START WITH** : 계층구조 전개의 시작위치 지정
- **CONNECT BY** : 다음에 전개될 자식 데이터 지정
- **PRIOR** : CONNECT BY 절에 사용되며, 현재 읽은 칼럼을 지정한다.
  - PRIOR 자식 = 부모형태를 사용 : 계층구조에서 부모 데이터 -> 자식데이터 방향 전개
  - `PRIOR 자식 데이터 = 부모 데이터` : `부모데이터 = PRIOR 자식데이터`와 동일한 의미
  - 부모에서 자식으로 가는 경우 순방향
- **NOCYCLE** : 동일한 데이터가 전개되지 않음
- **ORDER SIBLINGS BY** : 형제 노드간의 정렬 수행
- **WHERE** : 모든 전개를 수행한 후에 지정된 조건을 만족하는 데이터만 필터링
- **LEVEL** : 루트 데이터 1, 하위데이터 2, 리프 데이터까지 1씩 증가
- **CONNECT_BY_ISLEAF** : 해당 데이터가 리프 데이터 -> 1, 아니면 0
- **CONNECT_BY_ISCYCLE** : 해당 데이터가 조상 데이터 -> 1, 아니면 0

## 절차형 PL/SQL

- `EXCEPTION` : 생략 가능
- `PROCEDURE` 
- `TRIGGER` : COMMIT 롤백이 안 된다
- `USER DEFINED FUNCTION` : 값이 반드시 나온다

### 저장모듈

PL/SQL 문장을 DB서버에 저장하여 사용자와 애플리케이션 사이에서 공유할 수 있도록 만든 일종의 SQL 컴포넌트 프로그램.  
독립적으로 실행되거나 다른 프로그램으로부터 실행될 수 있는 완전한 실행 프로그램

#### PL/SQL특징
- BLOCK 구조로 되어 있어 각 기능별로 모듈화 가능
- 변수, 상수 등을 선언하여 SQL문장 간 값을 교환
- IF, LOOP 등의 절차형 언어를 사용하여 절차적인 프로그램이 가능하도록 한다
- DBMS 정의 에러나 사용자 정의 에러를 정의하여 사용할 수 있다
- PL/SQL은 ORACLE에 내장되어 있으므로 호환성이 좋다
- 응용 프로그램의 성능을 향상시킨다
- BLOCK단위로 처리되어 통신량을 줄일 수 있다